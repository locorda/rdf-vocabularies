name: locorda_rdf_vocabularies_workspace
description: Workspace root for the RDF Vocabularies multi-package project. Contains all individual packages.
version: 0.11.0-dev.1
publish_to: none  # This is a workspace root, not a publishable package

environment:
  sdk: ^3.7.0

# This is the workspace root for the multi-package RDF vocabularies project.
# The actual publishable packages are located in the packages/ directory:
# - packages/locorda_rdf_terms: Meta-package that exports all vocabularies
# - packages/locorda_rdf_terms_common: Core RDF vocabularies (RDF, RDFS, OWL, FOAF, etc.)
# - packages/locorda_rdf_terms_schema: Schema.org HTTPS vocabulary
# - packages/locorda_rdf_terms_schema_http: Schema.org HTTP vocabulary
workspace:
  - packages/locorda_rdf_terms
  - packages/locorda_rdf_terms_common
  - packages/locorda_rdf_terms_schema
  - packages/locorda_rdf_terms_schema_http

dev_dependencies:
  melos: ^7.3.0

melos:
  scripts:
    analyze:
      run: dart run melos exec -- dart analyze .
      description: Run `dart analyze` in all packages.

    format:
      run: dart run melos exec -- dart format .
      description: Run `dart format` in all packages.
    
    format:check:
      run: dart run melos exec -- dart format --output=none --set-exit-if-changed .
      description: Check if all packages are formatted correctly.

    test:
      run: dart run melos exec --dir-exists=test -- dart test
      description: Run `dart test` in all packages that have a `test` directory.
    
    publish:check:
      run: dart run melos exec -- dart pub publish --dry-run
      description: Check if all packages are ready to be published to pub.dev.

    generate:
      run: dart run melos exec --depends-on=build_runner -- dart run build_runner build --delete-conflicting-outputs
      description: Run `build_runner` in all packages that depend on it.

  version:
    # Synchronized versioning for all packages in the RDF suite
    updateGitTagRefs: true
    includeCommitId: true
    linkToCommits: true
    changelog:
      packageFilters:
        noPrivate: true
